CV = """Education:\nBachelor of Science in Computer Science\nXYZ University, Anytown, USA\nExpected Graduation: May 2024\nRelevant Courses:\n- Data Structures and Algorithms\n- Object-Oriented Programming\n- Database Management Systems\n- Web Development\n- Software Engineering\n- Artificial Intelligence\nInternship:\nSoftware Engineering Intern, XYZ Tech Solutions, Anytown, USA\nJune 2023 - August 2023\n- Collaborated with a team of developers on the design and implementation of a web application for customer data management.\n- Assisted in writing efficient code and conducting unit tests, resulting in a 20% reduction in application loading time.\n- Gained valuable experience in Agile development methodologies and version control systems.\nProjects:\n1. TaskMaster - Mobile Task Management App\n   - Developed a mobile application for task management using Flutter framework.\n   - Implemented features such as user authentication, task categorization, and real-time updates.\n   - Published the app on Google Play Store, receiving positive user feedback and over 1000 downloads.\n2. Shopify - E-commerce Web Platform\n   - Created a web-based e-commerce platform using HTML, CSS, and JavaScript.\n   - Integrated payment gateways and ensured secure transactions.\n   - Conducted load testing and optimized website performance.\nCompetitions:\n- AI Chatbot Challenge, XYZ Hackathon, Anytown, USA, March 2023\n  - Led a team of four students in developing an AI-powered chatbot for customer support.\n  - Utilized natural language processing techniques to enhance chatbot interactions.\n  - Received 2nd place in the competition.\n- Health & Fitness App Challenge, ABC Tech Fest, Anytown, USA, November 2022\n  - Participated in a hackathon and designed a health and fitness mobile app.\n  - Implemented a unique feature that allowed users to track and analyze their fitness progress.\n  - Earned recognition for the app's innovative design and functionality.\nSkills:\n- Programming Languages: Java, Python, JavaScript\n- Web Development: HTML, CSS, JavaScript, React\n- Mobile App Development: Flutter\n- Database Management: SQL, MongoDB\n- Version Control: Git\n- Problem-Solving: Analytical thinking, creative problem-solving\n- Teamwork: Collaboration, communication, and adaptability\nLanguages:\n- English (Fluent)\n- Spanish (Conversational)\nReferences:\nAvailable upon request.\n"""

fields = [
"ACADEMIC QUALIFICATION",
"JOB EXPERIENCE",
"PROJECTS",
"POSITION OF RESPONSIBILITY",
"ACHIEVEMENTS AND AWARDS",
"PUBLICATIONS",
"COURSE WORK",
"SKILLS AND EXPERTISE",
"EXTRACIRRICULAR ACTIVITIES"
]


CV_info = {'ACADEMIC QUALIFICATION': 'Bachelor of Science in Computer Science\nXYZ University, Anytown, USA\nExpected Graduation: May 2024',
'INTERNSHIPS': 'Software Engineering Intern, XYZ Tech Solutions, Anytown, USA\nJune 2023 - August 2023\n- Collaborated with a team of developers on the design and implementation of a web application for customer data management.\n- Assisted in writing efficient code and conducting unit tests, resulting in a 20% reduction in application loading time.\n- Gained valuable experience in Agile development methodologies and version control systems.',
'PROJECTS': 'Projects:\n1. TaskMaster - Mobile Task Management App\n   - Developed a mobile application for task management using Flutter framework.\n   - Implemented features such as user authentication, task categorization, and real-time updates.\n   - Published the app on Google Play Store, receiving positive user feedback and over 1000 downloads.\n\n2. Shopify - E-commerce Web Platform\n   - Created a web-based e-commerce platform using HTML, CSS, and JavaScript.\n   - Integrated payment gateways and ensured secure transactions.\n   - Conducted load testing and optimized website performance.',
'POSITION OF RESPONSIBILITY': 'Internship:\nSoftware Engineering Intern, XYZ Tech Solutions, Anytown, USA\nJune 2023 - August 2023\n- Collaborated with a team of developers on the design and implementation of a web application for customer data management.\n- Assisted in writing efficient code and conducting unit tests, resulting in a 20% reduction in application loading time.\n- Gained valuable experience in Agile development methodologies and version control systems.',
'ACHIEVEMENTS AND AWARDS': "ACHIEVEMENTS AND AWARDS:\n\n- AI Chatbot Challenge, XYZ Hackathon, Anytown, USA, March 2023\n  - Led a team of four students in developing an AI-powered chatbot for customer support.\n  - Utilized natural language processing techniques to enhance chatbot interactions.\n  - Received 2nd place in the competition.\n\n- Health & Fitness App Challenge, ABC Tech Fest, Anytown, USA, November 2022\n  - Participated in a hackathon and designed a health and fitness mobile app.\n  - Implemented a unique feature that allowed users to track and analyze their fitness progress.\n  - Earned recognition for the app's innovative design and functionality.",
'PUBLICATIONS': 'PUBLICATIONS',
'COURSE WORK': 'Relevant Courses:\n- Data Structures and Algorithms\n- Object-Oriented Programming\n- Database Management Systems\n- Web Development\n- Software Engineering\n- Artificial Intelligence',
'SKILLS AND EXPERTISE': 'Skills:\n- Programming Languages: Java, Python, JavaScript\n- Web Development: HTML, CSS, JavaScript, React\n- Mobile App Development: Flutter\n- Database Management: SQL, MongoDB\n- Version Control: Git\n- Problem-Solving: Analytical thinking, creative problem-solving\n- Teamwork: Collaboration, communication, and adaptability',
'EXTRACIRRICULAR ACTIVITIES': ''}

job_description = "Job Description: Software Development Intern\nWe are seeking a dynamic and ambitious Software Development Intern to join our innovative team. As a Software Development Intern, you will have the opportunity to work closely with our experienced software engineers and contribute to the development of cutting-edge projects. This is a 3-month internship position that offers valuable hands-on experience in various aspects of software development.\nResponsibilities:\n-Collaborate with the development team to design, code, test, and debug software applications.\n-Assist in the implementation of new features and functionalities, following best practices and coding standards.\n-Participate in code reviews to ensure code quality and identify areas of improvement.\n-Work on bug fixing and improving application performance.\n-Contribute to the documentation of software designs and project-related activities.\n-Support the team in conducting research and staying up-to-date with the latest industry trends.\nRequirements:\n- Current enrollment in a Bachelor's degree program in Computer Science or a related field.\n- Proficiency in at least one programming language (e.g., Java, Python, JavaScript).\n- Basic understanding of data structures, algorithms, and object-oriented programming.\n- Familiarity with web development technologies (HTML, CSS, JavaScript) is a plus.\n- Previous experience with mobile app development (Flutter, React Native) is a bonus.\n- Strong problem-solving skills and a willingness to learn and adapt quickly.\n- Effective communication and teamwork abilities.\n- An eagerness to work in a fast-paced and collaborative environment."
rating_section = {'ACADEMIC QUALIFICATION': {'Clarity and Conciseness': {'Score': 8, 'Feedback': "The section is clear and concise, providing relevant information about the candidate's academic qualification."},
                                            'Relevance': {'Score': 9, 'Feedback': "The candidate's Bachelor of Science in Computer Science degree aligns well with the job description for a Software Development Intern."},
                                            'Depth of Experience': {'Score': 2, 'Feedback': "The section does not provide any information about the candidate's depth of experience or any specific projects or achievements."}},
 'INTERNSHIPS': {'Clarity and Conciseness': {'Score': 8, 'Feedback': 'The section provides clear and concise information about the internship experience.'},
                                            'Relevance': {'Score': 9, 'Feedback': "The internship experience aligns well with the job description for a Software Development Intern. It showcases the candidate's involvement in web application development and Agile methodologies."},
                                            'Depth of Experience': {'Score': 7, 'Feedback': "The provided information gives a good overview of the candidate's internship experience. It could be improved by including more specific details about technologies used and notable achievements."}},
 'PROJECTS': {'Clarity and Conciseness': {'Score': 8, 'Feedback': 'The section provides clear and concise information about the projects, highlighting the technologies used and the achievements.'},
                                            'Relevance': {'Score': 9, 'Feedback': "The projects align well with the job description for a Software Development Intern. They demonstrate the candidate's experience in mobile app development, web development, and knowledge of relevant technologies."},
                                            'Depth of Experience': {'Score': 7, 'Feedback': "The provided information gives a good overview of the candidate's project experience, highlighting the key features and outcomes. However, more specific details about the challenges faced or the impact of the projects could enhance its depth."}},
 'POSITION OF RESPONSIBILITY': {'Clarity and Conciseness': {'Score': 8, 'Feedback': 'The section is clear and concise, providing specific details about the internship experience.'},
                                            'Relevance': {'Score': 9, 'Feedback': "The internship experience aligns well with the job description for a Software Development Intern. It demonstrates the candidate's involvement in web application development and Agile methodologies."},
                                            'Depth of Experience': {'Score': 7, 'Feedback': "The provided information gives a good overview of the candidate's internship experience, including their involvement in designing and implementing a web application and conducting unit tests. However, more specific details about the technologies used and any notable achievements would enhance its depth."}},
 'ACHIEVEMENTS AND AWARDS': {'Clarity and Conciseness': {'Score': 8, 'Feedback': 'The section is clear and concise, providing specific details about the achievements and awards without unnecessary information.'},
                                            'Relevance': {'Score': 9, 'Feedback': "The achievements and awards listed are relevant and demonstrate the candidate's skills and accomplishments in software development and innovation."},
                                            'Depth of Experience': {'Score': 7, 'Feedback': "The provided information gives a good overview of the candidate's achievements and awards, showcasing their involvement in developing AI-powered chatbots and health & fitness apps. However, more specific details about the technologies used and the impact of these projects could enhance its depth."}},
 'PUBLICATIONS': {'Clarity and Conciseness': {'Score': 1, 'Feedback': 'The section is empty, providing no information about any publications.'},
                                            'Relevance': {'Score': 1, 'Feedback': 'The section is empty, providing no relevance to the job description or any relevant experience.'},
                                            'Depth of Experience': {'Score': 1, 'Feedback': 'The section is empty, providing no depth of experience or any information related to publications.'}},
 'COURSE WORK': {'Clarity and Conciseness': {'Score': 8, 'Feedback': 'The section provides a clear and concise list of relevant courses without unnecessary details.'},
                                            'Relevance': {'Score': 9, 'Feedback': 'The listed courses are directly relevant to the job description for a Software Development Intern, covering important topics in software development.'},
                                            'Depth of Experience': {'Score': 2, 'Feedback': "The section lacks depth as it only provides a list of courses without any information about the candidate's experience or achievements in those courses."}},
 'SKILLS AND EXPERTISE': {'Clarity and Conciseness': {'Score': 9, 'Feedback': 'The section is clear and concise, providing a comprehensive list of skills and expertise.'},
                                            'Relevance': {'Score': 8, 'Feedback': 'The listed skills align well with the job description for a Software Development Intern, covering programming languages, web development, mobile app development, database management, version control, problem-solving, and teamwork.'},
                                            'Depth of Experience': {'Score': 6, 'Feedback': "The section provides a good overview of the candidate's skills and expertise, but additional details or examples of projects where these skills were applied could enhance its depth."}},
 'EXTRACIRRICULAR ACTIVITIES': {'Clarity and Conciseness': {'Score': 6, 'Feedback': 'The section is clear and concise, providing specific details about the responsibilities and requirements for the Software Development Intern position.'},
                                            'Relevance': {'Score': 8, 'Feedback': 'The section clearly aligns with the job description for a Software Development Intern. It includes relevant responsibilities and requirements for the position.'},
                                            'Depth of Experience': {'Score': 4, 'Feedback': 'The provided information gives a basic overview of the responsibilities and requirements for the Software Development Intern position, but additional details about specific projects or achievements could enhance its depth.'}}}


def rating_template(job_description,section,section_content):
    prompt = f"""
    You are a talented but strict HR manager, your task is to rate a section of the CV on the basis of the parameters given in the <PARAMETERS> section.
    Here are the rules for you:
    -Provide rating "Score" on a scale of 1 to 10, where 10 being the best and 1 being the worst. Be very strict while giving rating
    -Provide a "Feedback" explaining your rating for the section in 10-20 words
    -Follow the format of the <EXAMPLE> while returning the Review.
    -If Section content is empty give a rating 0 for all the parameters.
    
    <PARAMETERS>
    Clarity and Conciseness
    Relevance
    Depth of Experience

    <EXAMPLE>
        <START OF THE EXAMPLE>
    Internship:
    Software Engineering Intern, XYZ Tech Solutions, Anytown, USA
    June 2023 - August 2023
    - Collaborated with a team of developers on the design and implementation of a web application for customer data management.
    - Assisted in writing efficient code and conducting unit tests, resulting in a 20% reduction in application loading time.
    - Gained valuable experience in Agile development methodologies and version control systems.

    Job Description(for reference): Software Development Intern
    We are seeking a dynamic and ambitious Software Development Intern to join our innovative team. As a Software Development Intern, you will have the opportunity to work closely with our experienced software engineers and contribute to the development of cutting-edge projects.
    
    Review:
    {{"Clarity and Conciseness":{{ "Score": 6 , "Feedback": "The section is clear and concise, providing specific details about the internship experience without unnecessary jargon."}},
    "Relevance": {{ "Score": 7 , "Feedback": "The internship experience aligns well with the job description for a Software Development Intern. It demonstrates the candidate's involvement in web application development and Agile methodologies."}},
    "Depth of Experience": {{ "Score": 5 , "Feedback": "The provided information gives a good overview of the candidate's internship experience, but additional details about specific technologies used and more notable achievements could enhance its depth."}}
    }}
        <END OF THE EXAMPLE>    

    Here is the section for you to rate:
    Section: {section}
    Section Content: {section_content}

    Job Description:{job_description}

    Review:

    """

    return prompt



def CV_converter_template(CV,field):
    prompt = f"""
    You are a talented HR manager, your task is to EXTRACT the section mentioned in <EXTRACT SECTION> from the given Curriculum Vitae (CV) in the <CURRENT CV> section.
    Here are the rules for you:
    - WHILE EXTRACTING SECTION, DO NOT ADD ANY NEW INFORMATION, EXTRACT ONLY
    - RETURN A EMPTY STRING IF YOU DO NOT FIND RELEVANT INFORMATION TO PUT IN THE SECTION 
    - RETURN ONLY THE EXTRACTED SECTION 

    <CURRENT CV>
    {CV}

    <SECTION>
    {field}

    <EXTRACTED SECTION>

    """
    return prompt

